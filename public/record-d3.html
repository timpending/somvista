<!doctype html>
<html>
  <head>
  	<meta name="viewport" content="width=device-width,initial-scale=1">
  	<title>Audio Recorder</title>

    <!-- Material Design Lite -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.teal-indigo.min.css" />
    <script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>

    <!-- Dialog Polyfill -->
    <script src="js/dialog-polyfill.js"></script>
    <link rel="stylesheet" type="text/css" href="dialog-polyfill.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="record-d3.css" media="screen" title="no title">
  </head>

  <body>

    <!-- Auth Overlay for Login -->
    <div class='login-cover'></div>

    <!-- Login Dialog -->
    <dialog id="loginDialog" class="mdl-dialog">
      <h4 class="mdl-dialog__title">Sign In</h4>
      <p id="loginError" class="mdl-color-text--red"></p>
      <div class="mdl-dialog__content">
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" id="loginEmail">
          <label class="mdl-textfield__label" for="loginEmail">Email</label>
        </div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
          <input class="mdl-textfield__input" type="text" id="loginPassword">
          <label class="mdl-textfield__label" for="loginPassword">Password</label>
        </div>
      </div>

      <div class="mdl-dialog__actions">
        <button id="registerButton" type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Register</button>
        <button id="loginButton" type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Sign In</button>
        <div id="loginLoader" class="login-loader mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
      </div>
    </dialog>
  <!-- End Login Dialog -->

<!-- NAV START -->

<!-- Start Full Nav -->
<div class="demo-layout-transparent mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-layout__header--transparent">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">SomVista</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <!-- Navigation -->
      <nav class="mdl-navigation">
        <div class='right-align'>
          <button id="record" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" onclick="toggleRecording(this);">Record <i class="button-right-icon material-icons">mic</i></button>
          <button id='showUserButton' onclick='resetRecordings()' class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">RESET</button>
          <button id='showUserButton' onclick='showUser()' class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Show User<i class="sign-out-icon button-right-icon material-icons">account_circle</i></button>
          <button id='signOutButton' class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent">Sign Out <i class="sign-out-icon button-right-icon material-icons">account_circle</i></button>
        </div>
      </nav>
    </div>
  </header>
  <!-- End Full Nav-->

  <!-- Start Drawer Nav-->
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">SomVista</span>
    <nav class="mdl-navigation">
      <a id='drawerShowUserButton' onclick='showUser()' class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href="javascript:void(0)">Show User<i class="sign-out-icon button-right-icon material-icons">account_circle</i></a>
      <a id="drawerSignOut" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent" href="javascript:void(0)"><i class="sign-out-icon button-left-icon material-icons">account_circle</i> Sign Out</a>
    </nav>
  </div>
  <!-- End Drawer Nav -->
  <!-- End Nav -->

  <!-- Start MAIN -->

  <main class="mdl-layout__content">
  	<div id="controls">
      <select id="encodingSelect" onchange="encoding = this.value;">
  			<option value="mp3" selected>MP3</option>
  			<option value="wav">WAV</option>
		  </select>
      <!-- <img id="record" src="img/mic128.png" onclick="toggleRecording(this);"> -->
  		<!-- <a id="save" href="#"><img src="img/save.svg"></a> -->
      <!-- <button id="downloadPDF" onclick="downloadPDF()">PDF</button> -->
  	</div>

    <div id="viz">
  		<canvas id="analyser" width="1024" height="500"></canvas>
      <!-- <canvas id="output" width='1024' height='500'></canvas> -->
      <div id="output"></div>
      <h6 id="recordingName"></h6>
      <button id="recordingNameEditButton" onclick='updateRecName()'>Edit Rec. Name<i class="button-right-icon material-icons">mode_edit</i>
      <button id="deleteRecording" onclick="deleteRec()">Delete Rec.<i class="button-right-icon material-icons">delete_forever</i></button>
      <button id="saveRecording" onclick="saveRecObj(); saveRec()">Save Rec.<i class="button-right-icon material-icons">save</i></button>
      <button id='loadRecording' onclick='listRec()'>Load Past Rec.<i class="button-right-icon material-icons">cloud_download</i>
        <ul id="recordingList"></ul>
      </button>
  	</div>

    <div id="waveSettings">
      <form onsubmit="event.preventDefault(); updateBGColor();">
        <input name="color2" type="hidden" id="canvasColorSelector">
        <button type='submit' class="jscolor {valueElement: 'canvasColorSelector'}" id='canvasColorSelector'>Change the Background Color</button>
        <input type='submit' />
      </form>
    </div>

  </main>
</div>

    <!-- Scripts Start -->

        <!-- Firebase Init -->
        <script src="https://www.gstatic.com/firebasejs/3.4.1/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyDZ3cMZ2bemqLARKEGMiIZGLI-3deGhOEo",
            authDomain: "sound-2-sight.firebaseapp.com",
            databaseURL: "https://sound-2-sight.firebaseio.com",
            storageBucket: "sound-2-sight.appspot.com",
            messagingSenderId: "526816102819"
          };
          firebase.initializeApp(config);
        </script>
      <!-- End Firebase Init -->
        <script src='js/jquery-3.1.0.min.js'></script>
        <script src='js/auth.js'></script>
        <script src='js/db.js'></script>
        <script src='js/edit-rec.js'></script>
        <script src="js/d3.min.js"></script>
        <script src="js/jscolor.min.js"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script> -->
        <script src="js/audiodisplay-d3.js"></script>
      	<script src="js/recorderjs/recorder.js"></script>
      	<script src="js/main.js"></script>
  </body>
</html>
